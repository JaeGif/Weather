(()=>{"use strict";function t(t){const e=document.getElementById("city-name"),n=document.getElementById("day-weather"),i=document.getElementById("day-temp"),s=document.getElementById("feels-like"),a=document.getElementById("humidity"),c=document.getElementById("visibility"),d=document.getElementById("wind-speed");document.getElementById("todays-date").innerHTML=function(){const t=new Date,e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][t.getDay()],n=t.getDate();let i="";const s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],a=String(t.getFullYear()),c=a[2]+a[3],d=t.getHours(),l=t.getMinutes();return i=1==String(n).slice(-1)?"st":2==String(n).slice(-1)?"nd":3==String(n).slice(-1)?"rd":"th",`${e+", "+n+i+" "+s+" '"+c}<br />${d+":"+l}`}(),d.textContent=t.wind.speed,c.textContent=t.visibility,a.textContent=t.main.humidity,s.textContent=t.main.feels_like,i.textContent=t.main.temp,n.textContent=t.weather[0].description,e.textContent=t.name}class e{static units="imperial";static getUnits(){return e.units}static setUnits(t){e.units=t}}class n{static lastSearch="New York";static getLastSearch(){return n.lastSearch}static setLastSearch(t){n.lastSearch=t}}async function i(t="New York",e="imperial"){const n=await fetch(`https://api.openweathermap.org/data/2.5/weather?units=${e}&q=${t}&APPID=a4b3f65b2dbd15c2b33875e013b2dc1b`,{mode:"cors"}),i=await n.json();return console.log(i),i}async function s(){let s=document.querySelector("input").value;var a;""===s?s=void 0:((a=s).replace(/(^\w{1})|(\s+\w{1})/g,(t=>t.toUpperCase())),s=a,n.setLastSearch(s)),t(await i(s,e.getUnits()))}async function a(n,s){t(await i(n,s)),function(t){const e=document.getElementsByClassName("units"),n=document.getElementsByClassName("small_units"),i=document.getElementById("speed-units");if("imperial"===t){for(let t=0;t<e.length;t++)e[t].innerHTML="&#8457";for(let t=0;t<n.length;t++)n[t].innerHTML="&#8457";i.textContent="mph"}else if("metric"===t){for(let t=0;t<e.length;t++)e[t].innerHTML="&#8451;";for(let t=0;t<n.length;t++)n[t].innerHTML="&#8451;";i.textContent="m/s"}}(e.getUnits())}window.onload=s(),(()=>{const t=document.querySelector("#submit"),i=document.getElementById("display_F"),c=document.getElementById("display_C"),d=document.querySelector("form");i.addEventListener("click",(()=>{i.style.display="none",c.style.display="flex",e.setUnits("metric"),a(n.getLastSearch(),e.getUnits())})),c.addEventListener("click",(()=>{c.style.display="none",i.style.display="flex",e.setUnits("imperial"),a(n.getLastSearch(),e.getUnits())})),d.addEventListener("keydown",(function(t){"Enter"===t.code&&(t.preventDefault(),s())})),t.addEventListener("click",(()=>{s()}))})()})();