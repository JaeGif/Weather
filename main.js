(()=>{"use strict";function t(t){const e=document.getElementById("city-name"),n=document.getElementById("day-weather"),i=document.getElementById("day-temp"),s=document.getElementById("feels-like"),a=document.getElementById("humidity"),l=document.getElementById("visibility");document.getElementById("wind-speed").textContent=t.wind.speed,l.textContent=t.visibility,a.textContent=t.main.humidity,s.textContent=t.main.feels_like,i.textContent=t.main.temp,n.textContent=t.weather[0].description,e.textContent=t.name}class e{static units="imperial";static getUnits(){return e.units}static setUnits(t){e.units=t}}class n{static lastSearch="New York";static getLastSearch(){return n.lastSearch}static setLastSearch(t){n.lastSearch=t}}async function i(t="New York",e="imperial"){const n=await fetch(`https://api.openweathermap.org/data/2.5/weather?units=${e}&q=${t}&APPID=a4b3f65b2dbd15c2b33875e013b2dc1b`,{mode:"cors"}),i=await n.json();return console.log(i),i}async function s(){let e=document.querySelector("input").value;var s;""===e?e=void 0:((s=e).replace(/(^\w{1})|(\s+\w{1})/g,(t=>t.toUpperCase())),e=s,n.setLastSearch(e)),t(await i(e))}async function a(n,s){t(await i(n,s)),function(t){const e=document.getElementsByClassName("units"),n=document.getElementsByClassName("small_units"),i=document.getElementById("speed-units");if("imperial"===t){for(let t=0;t<e.length;t++)e[t].innerHTML="&#8457";for(let t=0;t<n.length;t++)n[t].innerHTML="&#8457";i.textContent="mph"}else if("metric"===t){for(let t=0;t<e.length;t++)e[t].innerHTML="&#8451;";for(let t=0;t<n.length;t++)n[t].innerHTML="&#8451;";i.textContent="m/s"}}(e.getUnits())}window.onload=s(),(()=>{const t=document.querySelector("#submit"),i=document.getElementById("display_F"),l=document.getElementById("display_C");i.addEventListener("click",(()=>{i.style.display="none",l.style.display="flex",e.setUnits("metric"),a(n.getLastSearch(),e.getUnits())})),l.addEventListener("click",(()=>{l.style.display="none",i.style.display="flex",e.setUnits("imperial"),a(n.getLastSearch(),e.getUnits())})),t.addEventListener("click",(()=>{s()}))})()})();