(()=>{"use strict";function t(t){const e=document.getElementById("city-name"),n=document.getElementById("day-weather"),s=document.getElementById("day-temp"),o=document.getElementById("feels-like"),a=document.getElementById("humidity"),l=document.getElementById("visibility"),i=document.getElementById("wind-speed"),c=document.getElementById("todays-date");document.querySelector(".current_icon").src=function(t){let e="";switch(String(t)[0]){case"2":e="../assets/svg/severe-thunderstorm.svg";case"3":e="../assets/svg/drizzle.svg";case"5":e="../assets/svg/rain-1.svg";case"6":e="612"===String(t)||"613"===String(t)||"615"===String(t)||"616"===String(t)?"../assets/svg/rain-and-snow.svg":"../assets/svg/snow.svg";case"7":e="701"===String(t)||"711"===String(t)||"721"===String(t)||"741"===String(t)||"751"===String(t)||"761"===String(t)||"731"===String(t)?"../assets/svg/mist.svg":"../assets/svg/tornado-2.svg";case"8":e="800"===String(t)?"../assets/svg/sun-horizon-1.svg":"../assets/svg/mostly-cloudy-2.svg"}return e}(t.current.weather[0].id),c.innerHTML=function(t){const e=60*(new Date).getTimezoneOffset(),n=1e3*(t.current.dt+e+t.timezone_offset),s=new Date(n),d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][s.getDay()],o=s.getDate();let a="";const l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][s.getMonth()],i=String(s.getFullYear()),c=i[2]+i[3],m=s.getHours();let r=String(s.getMinutes());return a=1==String(o).slice(-1)?"st":2==String(o).slice(-1)?"nd":3==String(o).slice(-1)?"rd":"th",r.length<2&&(r="0"+r),`${d+", "+o+a+" "+l+" '"+c}<br />${m+":"+r}`}(t),i.textContent=t.current.wind_speed,l.textContent=t.current.visibility,a.textContent=t.current.humidity,o.textContent=t.current.feels_like,s.textContent=t.current.temp,n.textContent=t.current.weather[0].description,e.textContent=d.getLastSearch()}function e(t){const e=60*(new Date).getTimezoneOffset(),n=1e3*(t.current.dt+e+t.timezone_offset);let s=0,d=[],o=new Date(n).getDay();for(let t=1;t<8;t++)o<=6?s=o:o>6&&(s=o-7),o++,d.push(s);const a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=document.getElementById("n-1"),i=document.getElementById("n-2"),c=document.getElementById("n-3"),m=document.getElementById("n-4"),r=document.getElementById("n-5"),y=document.getElementById("n-6"),u=document.getElementById("n-7");l.textContent=a[d[1]],i.textContent=a[d[2]],c.textContent=a[d[3]],m.textContent=a[d[4]],r.textContent=a[d[5]],y.textContent=a[d[6]],u.textContent=a[d[0]],document.getElementById("n-1-high").textContent=t.daily[1].temp.max,document.getElementById("n-1-low").textContent=t.daily[1].temp.min,document.getElementById("n-2-high").textContent=t.daily[2].temp.max,document.getElementById("n-2-low").textContent=t.daily[2].temp.min,document.getElementById("n-3-high").textContent=t.daily[3].temp.max,document.getElementById("n-3-low").textContent=t.daily[3].temp.min,document.getElementById("n-4-high").textContent=t.daily[4].temp.max,document.getElementById("n-4-low").textContent=t.daily[4].temp.min,document.getElementById("n-5-high").textContent=t.daily[5].temp.max,document.getElementById("n-5-low").textContent=t.daily[5].temp.min,document.getElementById("n-6-high").textContent=t.daily[6].temp.max,document.getElementById("n-6-low").textContent=t.daily[6].temp.min,document.getElementById("n-7-high").textContent=t.daily[7].temp.max,document.getElementById("n-7-low").textContent=t.daily[7].temp.min}function n(t){const e=60*(new Date).getTimezoneOffset(),n=1e3*(t.current.dt+e+t.timezone_offset);let s=0,d=[],o=new Date(n).getHours()+1;for(let t=0;t<8;t++)o<24?s=o:o>=24&&(s=o-24),o++,d.push(s);document.getElementById("h-1").textContent=d[0]+":00",document.getElementById("h-2").textContent=d[1]+":00",document.getElementById("h-3").textContent=d[2]+":00",document.getElementById("h-4").textContent=d[3]+":00",document.getElementById("h-5").textContent=d[4]+":00",document.getElementById("h-6").textContent=d[5]+":00",document.getElementById("h-7").textContent=d[6]+":00",document.getElementById("h-8").textContent=d[7]+":00";const a=document.getElementById("h-1-data"),l=document.getElementById("h-2-data"),i=document.getElementById("h-3-data"),c=document.getElementById("h-4-data"),m=document.getElementById("h-5-data"),r=document.getElementById("h-6-data"),y=document.getElementById("h-7-data"),u=document.getElementById("h-8-data");a.textContent=t.hourly[1].temp,l.textContent=t.hourly[2].temp,i.textContent=t.hourly[3].temp,c.textContent=t.hourly[4].temp,m.textContent=t.hourly[5].temp,r.textContent=t.hourly[6].temp,y.textContent=t.hourly[7].temp,u.textContent=t.hourly[8].temp}class s{static units="imperial";static getUnits(){return s.units}static setUnits(t){s.units=t}}class d{static lastSearch="New York";static getLastSearch(){return d.lastSearch}static setLastSearch(t){d.lastSearch=t}}async function o(t,e,n="imperial"){const s=await fetch(`https://api.openweathermap.org/data/3.0/onecall?units=${n}&lat=${t}&lon=${e}&APPID=a4b3f65b2dbd15c2b33875e013b2dc1b`,{mode:"cors"}),d=await s.json();return console.log(d),d}async function a(){let a=document.querySelector("input").value,l="",c="";""===a?(a=void 0,a=await i()):(a=a.replace(/(^\w{1})|(\s+\w{1})/g,(t=>t.toUpperCase())),d.setLastSearch(a),a=await i(a)),l=a[0].lat,c=a[0].lon;const m=await o(l,c,s.getUnits());t(m),e(m),n(m)}async function l(d,a){const l=await i(d),c=l[0].lat,m=l[0].lon,r=await o(c,m,a);t(r),e(r),n(r),function(t){const e=document.getElementsByClassName("units"),n=document.getElementsByClassName("small_units"),s=document.getElementById("speed-units");if("imperial"===t){for(let t=0;t<e.length;t++)e[t].innerHTML="&#8457";for(let t=0;t<n.length;t++)n[t].innerHTML="&#8457";s.textContent="mph"}else if("metric"===t){for(let t=0;t<e.length;t++)e[t].innerHTML="&#8451;";for(let t=0;t<n.length;t++)n[t].innerHTML="&#8451;";s.textContent="m/s"}}(s.getUnits())}async function i(t=d.getLastSearch()){return(await fetch(`http://api.openweathermap.org/geo/1.0/direct?q=${t}&limit=5&appid=a4b3f65b2dbd15c2b33875e013b2dc1b`,{mode:"cors"})).json()}window.onload=a(),(()=>{const t=document.getElementById("submit"),e=document.getElementById("display_F"),n=document.getElementById("display_C"),o=document.querySelector("form"),i=document.getElementById("daily"),c=document.getElementById("hourly"),m=document.getElementById("seven-day-forecast-container"),r=document.getElementById("hourly-forecast-container");i.addEventListener("click",(()=>{i.classList.remove("not-selected"),c.classList.remove("selected"),c.classList.add("not-selected"),i.classList.contains("selected")||i.classList.add("selected"),m.style.display="grid",r.style.display="none"})),c.addEventListener("click",(()=>{c.classList.remove("not-selected"),i.classList.remove("selected"),i.classList.add("not-selected"),c.classList.contains("selected")||c.classList.add("selected"),m.style.display="none",r.style.display="grid"})),e.addEventListener("click",(()=>{e.style.display="none",n.style.display="flex",s.setUnits("metric"),l(d.getLastSearch(),s.getUnits())})),n.addEventListener("click",(()=>{n.style.display="none",e.style.display="flex",s.setUnits("imperial"),l(d.getLastSearch(),s.getUnits())})),o.addEventListener("keydown",(function(t){"Enter"===t.code&&(t.preventDefault(),a())})),t.addEventListener("click",(()=>{a()}))})()})();