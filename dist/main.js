(()=>{"use strict";async function t(t="New York",e="imperial"){const n=await fetch(`https://api.openweathermap.org/data/2.5/weather?units=${e}&q=${t}&APPID=a4b3f65b2dbd15c2b33875e013b2dc1b`,{mode:"cors"}),i=await n.json();return console.log(i),i}function e(t){const e=document.getElementById("city-name"),n=document.getElementById("day-weather"),i=document.getElementById("day-temp"),s=document.getElementById("feels-like"),a=document.getElementById("humidity"),l=document.getElementById("visibility");document.getElementById("wind-speed").textContent=t.wind.speed,l.textContent=t.visibility,a.textContent=t.main.humidity,s.textContent=t.main.feels_like,i.textContent=t.main.temp,n.textContent=t.weather[0].description,e.textContent=t.name}class n{static units="imperial";static getUnits(){return n.units}static setUnits(t){n.units=t}}class i{static lastSearch="New York";static getLastSearch(){return i.lastSearch}static setLastSearch(t){i.lastSearch=t}}async function s(){let n=document.querySelector("input").value;var s;""===n?n=void 0:((s=n).replace(/(^\w{1})|(\s+\w{1})/g,(t=>t.toUpperCase())),n=s,i.setLastSearch(n)),e(await t(n))}async function a(i,s){e(await t(i,s)),function(t){const e=document.getElementsByClassName("units"),n=document.getElementsByClassName("small_units"),i=document.getElementById("speed-units");if("imperial"===t){for(let t=0;t<e.length;t++)e[t].innerHTML="&#8457";for(let t=0;t<n.length;t++)n[t].innerHTML="&#8457";i.textContent="mph"}else if("metric"===t){for(let t=0;t<e.length;t++)e[t].innerHTML="&#8451;";for(let t=0;t<n.length;t++)n[t].innerHTML="&#8451;";i.textContent="m/s"}}(n.getUnits())}window.onload=s(),(()=>{const t=document.querySelector("#submit"),e=document.getElementById("display_F"),l=document.getElementById("display_C");e.addEventListener("click",(()=>{e.style.display="none",l.style.display="flex",n.setUnits("metric"),a(i.getLastSearch(),n.getUnits())})),l.addEventListener("click",(()=>{l.style.display="none",e.style.display="flex",n.setUnits("imperial"),a(i.getLastSearch(),n.getUnits())})),t.addEventListener("click",(()=>{s()}))})()})();